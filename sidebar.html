
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Extracted Hyperlinks</title>
  <link rel="stylesheet" href="sidebar.css">
</head>
<body>
  <div class="logo-header">
    <a href="https://sfang-cmd.github.io/hyperlink-extractor-landing-page/" target="_blank" style="text-decoration: none; color: inherit;">
      <img src="logos/logo.svg" alt="Logo" class="centered-logo" />
      <div class="logo-title">Hyperlink Extractor</div>
    </a>
  </div>
  <!-- Notification for copy -->
  <div id="copyNotification" class="copy-notification" style="display:none;">Links copied to clipboard</div>

  <!-- Settings panel -->
  <div class="settings-row">
    <div class="copy-format-box default-box">
      <label class="settings-heading" for="copyModeSelect">Copy Format</label>
      <select id="copyModeSelect">
        <option value="urls" title="Copy just the plain URL.">URLs only</option>
        <option value="labels" title="Copy using '[Label] URL' format.">Link Title + URL</option>
        <option value="full" title="Copy full text with inline hyperlinks.">Full Text + Embedded URLs</option>
      </select>
    </div>
    <div class="autocopy-box default-box">
  <label class="settings-heading" for="autoCopyToggle">Auto-copy</label>
      <div class="autocopy-toggle-container">
        <label class="switch">
          <input type="checkbox" id="autoCopyToggle" checked>
          <span class="slider round"></span>
        </label>
      </div>
    </div>
  </div>

  <!-- Prompt selector box (now below copy format) -->
  <div id="promptSelectorContainer" class="default-box">
    <label for="promptSelector" class="settings-heading"><strong>Select a Prompt</strong></label>
    <select id="promptSelector">
      <option value="">None</option>
      <option value="Given the list of hyperlinks, convert each link into a properly formatted APA style citation.">Convert to APA style citations</option>
      <option value="Generate a concise summary of the content found at these links. Please state the title and link followed by the summary for each page.">Generate summary of links content</option>
      <option value="Given the list of hyperlinks, identify the ones that are academically reliable and relevant to the current topic of my investigation. Be sure to give justification.">Evaluate links for academic reliability and relevance</option>
      <option value="custom">Write your own</option>
    </select>
  
    <!-- This will replace the select when "Write your own" is chosen -->
    <div id="customPromptContainer" style="display:none; width: 100%; margin-top: 8px;">
      <textarea id="customPrompt" placeholder="Enter your custom prompt..." style="width: 80%; display: inline-block;"></textarea>
      <button id="clearPromptBtn" class="clear-btn" style="margin-left: 8px; vertical-align: top;">Reset</button>
    </div>

  </div>

  <div class="default-box">
    <label class="settings-heading" for="extractActions" style="margin-bottom: 10px;">Manage Hyperlinks</label>
    <div id="extractActions" style="display: flex; flex-direction: column; gap: 12px; width: 100%;">
      <div style="display: flex; flex-direction: row; gap: 12px; width: 100%;">
        <button id="selectAllBtn" class="buttons" style="width: 100%; background-color: #5BC0BE">Select All</button>
        <button id="clearAllBtn" class="buttons" style="width: 100%; background-color: #e74c3c;">Delete All</button>
      </div>
      <button id="copySelectedBtn" class="buttons" style="width: 100%;">Copy Selected Links with Prompt</button>
    </div>
  </div>

  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search links by title or URL..." />
    <button id="clearSearchBtn" title="Clear search">Ã—</button>
  </div>
  
  <div id="clipContainer">
    <div class="loading">Loading clipped pages...</div>
  </div>
  
  <!-- Load the IndexedDB utility first -->
  <script src="utils/db.js"></script>
  <script src="sidebar.js"></script>
</body>
</html>
